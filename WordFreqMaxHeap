class WordFreq{ 

String word; 
int frequency; 

WordFreq(String word, int frequency){
  this.word= word; 
  this.frequency = frequency; 
}
@Override 
public String toString(){
 return word +  " -  " + frequency ; 
  } 

} 


public class WordFreqMaxHeap{ 

      // main method to test 
      static int heapSize; 
      
      public static void main ( String [] args){ 
        //create array of WordFreq objects
          WordFreq[] arr = { 
          
          new WordFreq("happy",400),
          new WordFreq("satisfied",100),
          new WordFreq("neutral",300),
          new WordFreq("would buy again", 200),
          new WordFreq("terrible", 160),
          new WordFreq("inconvenient", 900),
          new WordFreq("difficult to use", 100),
          new WordFreq("easy to use", 140)),
          new WordFreq("would recommend to friends", 800),
          new WordFreq("visit the store", 700),
          
          };
          //call buildBottomUpMaxHeap with this array
        } 

    public static void buildBottomUpMaxHeap ( WordFreq[] arr ){

        int n = arr.length; //calculate length of array
        //take  only non leaf nodes .non leaf nodes starts with n/2-1 index

        for ( int i = (n/2)-1 ; i >=0 ; i--){
          //call maxHeapify for each non leaf node passing index and the WordFreq array
           maxHeapify( arr ,  n ,  i);
      
        }
    

    } 

/**
This method will do heapify for one node 
**/
    public static void maxHeapify(WordFreq[] arr , int n , int i){
       int maxIndx = i; 
       int leftIndx  =  2 * i + 1 ;
       int rightIndx = 2 * i + 2; 

//check if left element is greater
if(  (leftIndx < n )  &&( arr[leftIndx].frequency > arr[maxIndx].frequency  ) ) { 
           maxIndx = leftIndx;
      }
//checking if right element is greater
    if( ( rightIndx < n) && ( arr[rightIndx].frequency > arr[maxIndx].frequency ) ) {
          maxIndx = rightIndx;
      } 
//swap the bigger element with its parent
    if ( maxIndx != i ){ 
      WordFreq temp =  arr[i] ; 
      arr [ i ] = arr[ maxIndx ] ; 
      arr [ maxIndx ] = temp; 
      }

    maxHeapify( arr ,  n , maxIndx )

   } 

    
      
     
  
          
    }


 } 
